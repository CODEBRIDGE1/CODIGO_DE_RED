# PLATAFORMA CÓDIGO DE RED - Environment Variables

# ============================================
# BACKEND / API
# ============================================
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=true

# Database (PostgreSQL)
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=codigo_red_user
POSTGRES_PASSWORD=super_secret_password_change_me
POSTGRES_DB=codigo_red_db

DATABASE_URL=postgresql+asyncpg://codigo_red_user:super_secret_password_change_me@postgres:5432/codigo_red_db

# Redis (Celery broker + cache)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_URL=redis://redis:6379/0

# Celery
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/1

# MinIO (S3-compatible storage)
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin_secret_change_me
MINIO_BUCKET_NAME=evidences
MINIO_USE_SSL=false
MINIO_EXTERNAL_ENDPOINT=localhost:9000  # Para presigned URLs accesibles desde navegador

# Security / JWT
SECRET_KEY=super-secret-jwt-key-change-this-in-production-min-32-chars
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS (frontend origins allowed - comma separated)
# En desarrollo: localhost
# En producción: agregar IP del servidor y dominios
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,http://31.97.210.250:5173

# Rate Limiting
RATE_LIMIT_PER_MINUTE=100

# Environment
ENVIRONMENT=development  # development, staging, production

# Logging
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# ============================================
# FRONTEND
# ============================================
# URL principal del frontend (se agrega automáticamente a CORS_ORIGINS)
FRONTEND_URL=http://localhost:5173

VITE_API_BASE_URL=http://localhost:8000
VITE_APP_NAME="Código de Red Platform"

# ============================================
# NGINX
# ============================================
NGINX_PORT=80
NGINX_SSL_PORT=443

# ============================================
# OBSERVABILITY (opcional - para producción)
# ============================================
# SENTRY_DSN=https://your-sentry-dsn-here
# GRAFANA_ENABLED=false
# PROMETHEUS_ENABLED=false
